"use strict";!function(){function e(){document.location=r}function t(t){"login"===t?m.current=m.login:"register"===t&&(m.current=m.register),""===n.value?(n.focus(),a.innerHTML="请输入用户名"):null===n.value.match(/^[\u4E00-\u9FA50-9a-zA-z_]{1,15}$/)?(n.focus(),a.innerHTML="账号只允许1-15个中文、字母、数字或下划线"):""===o.value?(o.focus(),a.innerHTML="请输入密码"):null!==o.value.match(/\s/)||null===o.value.match(/^\S{1,15}$/)?(o.focus(),a.innerHTML="密码只允许1-15个非空白字符"):(console.log(m.current),axios.post(m.current,{name:n.value,pass:o.value}).then(function(t){if(200===t.data.msgCode){var n=t.data.token;localStorage.setItem("token",n),e()}else a.innerHTML=t.data.msgCtx}).catch(function(e){return a.innerHTML=e}))}var n=document.getElementsByClassName("login-user")[0],o=document.getElementsByClassName("login-pass")[0],s=document.getElementsByClassName("login-confirm")[0],i=document.getElementsByClassName("register-confirm")[0],a=document.getElementsByClassName("login-tip")[0],r=document.location.origin,m={login:r+"/api/user/login",register:r+"/api/user/register"};m.current=m.login,document.body.onload=function(){n.focus(),s.addEventListener("click",function(){return t("login")},!1),i.addEventListener("click",function(){return t("register")},!1)}}();